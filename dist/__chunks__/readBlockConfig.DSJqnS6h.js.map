{"version":3,"file":"readBlockConfig.DSJqnS6h.js","sources":["../../src/app/tasks/readBlockConfig.ts"],"sourcesContent":["import { toClassName } from 'Utils/toClassName';\n\n/*\n  This function reads the configuration of a block from the HTML file\n  and returns it as a Record<string, string | string[]> object.\n  @param {Element} block The block element\n*/\nexport function readBlockConfig(block: Element): Record<string, string | string[]> {\n  const config: Record<string, string | string[]> = {};\n  block.querySelectorAll(':scope > div').forEach((row) => {\n    if (row.children) {\n      const cols = [...row.children];\n      if (cols[1]) {\n        const col = cols[1];\n        const name = toClassName(cols[0].textContent ?? '');\n        let value: string | string[] = '';\n        if (col.querySelector('a')) {\n          const as = [...col.querySelectorAll('a')];\n          if (as.length === 1) {\n            value = as[0].href;\n          } else {\n            value = as.map((a) => a.href);\n          }\n        } else if (col.querySelector('img')) {\n          const imgs = [...col.querySelectorAll('img')];\n          if (imgs.length === 1) {\n            value = imgs[0].src;\n          } else {\n            value = imgs.map((img) => img.src);\n          }\n        } else if (col.querySelector('p')) {\n          const ps = [...col.querySelectorAll('p')];\n          if (ps.length === 1) {\n            value = ps[0].textContent!;\n          } else {\n            value = ps.map((p) => p.textContent!);\n          }\n        } else {\n          value = row.children[1].textContent!;\n        }\n        config[name] = value;\n      }\n    }\n  });\n  return config;\n}\n"],"names":["readBlockConfig","block","config","row","cols","col","name","toClassName","value","as","a","imgs","img","ps","p"],"mappings":"8CAOO,SAASA,EAAgBC,EAAmD,CACjF,MAAMC,EAA4C,CAAA,EAClD,OAAAD,EAAM,iBAAiB,cAAc,EAAE,QAASE,GAAQ,CACtD,GAAIA,EAAI,SAAU,CAChB,MAAMC,EAAO,CAAC,GAAGD,EAAI,QAAQ,EACzB,GAAAC,EAAK,CAAC,EAAG,CACL,MAAAC,EAAMD,EAAK,CAAC,EACZE,EAAOC,EAAYH,EAAK,CAAC,EAAE,aAAe,EAAE,EAClD,IAAII,EAA2B,GAC3B,GAAAH,EAAI,cAAc,GAAG,EAAG,CAC1B,MAAMI,EAAK,CAAC,GAAGJ,EAAI,iBAAiB,GAAG,CAAC,EACpCI,EAAG,SAAW,EACRD,EAAAC,EAAG,CAAC,EAAE,KAEdD,EAAQC,EAAG,IAAKC,GAAMA,EAAE,IAAI,CAErB,SAAAL,EAAI,cAAc,KAAK,EAAG,CACnC,MAAMM,EAAO,CAAC,GAAGN,EAAI,iBAAiB,KAAK,CAAC,EACxCM,EAAK,SAAW,EACVH,EAAAG,EAAK,CAAC,EAAE,IAEhBH,EAAQG,EAAK,IAAKC,GAAQA,EAAI,GAAG,CAE1B,SAAAP,EAAI,cAAc,GAAG,EAAG,CACjC,MAAMQ,EAAK,CAAC,GAAGR,EAAI,iBAAiB,GAAG,CAAC,EACpCQ,EAAG,SAAW,EACRL,EAAAK,EAAG,CAAC,EAAE,YAEdL,EAAQK,EAAG,IAAKC,GAAMA,EAAE,WAAY,CACtC,MAEQN,EAAAL,EAAI,SAAS,CAAC,EAAE,YAE1BD,EAAOI,CAAI,EAAIE,CACjB,CACF,CAAA,CACD,EACMN,CACT"}