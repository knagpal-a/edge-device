import{j as b,x as _}from"../__chunks__/lit-element.BYUc91cE.js";import{g as s,c as x}from"../__chunks__/getChildNodeText.B8g3NChn.js";const v=5e4,h=/^[A-Z]{5}[0-9]{4}[A-Z]$/,p=(e,a)=>{const t=Number(e.replace(/,/g,"").trim());return Number.isFinite(t)?t:a},y=(e,a,t)=>Math.min(t,Math.max(a,e)),N=(e,a,t)=>{const n=Math.round((e-a)/t)*t+a;return Number.isFinite(n)?n:e},m=(e,a="en-IN")=>new Intl.NumberFormat(a,{maximumFractionDigits:0}).format(e),L=(e,a)=>{const t=`${e.currency}${m(a.amount)}`,n=a.amount>v,r=h.test(a.pan),l=n&&a.panTouched&&!r,u=a.pan;return a.showResult?_`<div class="loan-slider loan-slider--result"><div class="loan-slider__result"><h2>${e.title}</h2><p class="loan-slider__result-label">Your selected loan amount is</p><div class="loan-slider__result-amount">${t}</div></div></div>`:_`<div class="loan-slider"><div class="loan-slider__header"><h2>${e.title}</h2><p>${e.helper}</p></div><div class="loan-slider__amount"><label class="loan-slider__label" for="loan-slider-input">Loan amount</label><div class="loan-slider__input-row"><span class="loan-slider__currency">${e.currency}</span> <input id="loan-slider-input" class="loan-slider__number" type="number" inputmode="numeric" min="${e.min}" max="${e.max}" step="${e.step}" .value="${String(a.amount)}" aria-label="Loan amount"></div><input class="loan-slider__range" type="range" min="${e.min}" max="${e.max}" step="${e.step}" .value="${String(a.amount)}" aria-label="Loan amount slider"><div class="loan-slider__limits"><span>${e.currency}${m(e.min)}</span> <span>${e.currency}${m(e.max)}</span></div></div>${n?_`<div class="loan-slider__pan" role="group" aria-label="PAN details"><div class="loan-slider__notice" role="status">Loans above ${e.currency}${m(v)} require PAN details.</div><label class="loan-slider__label" for="loan-slider-pan">PAN number</label> <input id="loan-slider-pan" class="loan-slider__pan-input" type="text" inputmode="text" maxlength="10" placeholder="ABCDE1234F" .value="${u}" aria-invalid="${l?"true":"false"}" aria-describedby="loan-slider-pan-error"><div id="loan-slider-pan-error" class="loan-slider__pan-error" data-visible="${l?"true":"false"}">Enter a valid PAN in the format ABCDE1234F.</div></div>`:""} <button class="loan-slider__cta" type="button" aria-label="Submit loan amount">${e.ctaLabel}</button></div>`};function S(e){const a={min:p(s(e,0),1e4),max:p(s(e,1),2e5),step:p(s(e,2),1e3),initial:p(s(e,3),5e4),currency:s(e,4)||"â‚¹",ctaLabel:s(e,5)||"Continue",title:s(e,6)||"Choose your loan amount",helper:s(e,7)||"Use the slider or type an amount."};a.min=Math.min(a.min,a.max),a.max=Math.max(a.min,a.max),a.step=a.step>0?a.step:1e3;const t=l=>{const u=N(l,a.min,a.step);return y(u,a.min,a.max)},n={amount:t(a.initial),pan:"",panTouched:!1,showResult:!1},r=()=>{b(L(a,n),e);const l=e.querySelector(".loan-slider__number"),u=e.querySelector(".loan-slider__range"),c=e.querySelector(".loan-slider__pan-input"),$=e.querySelector(".loan-slider__cta");l&&l.addEventListener("input",i=>{const o=i.target,d=Number(o.value);Number.isFinite(d)&&(n.amount=t(d),r())}),u&&u.addEventListener("input",i=>{const o=i.target,d=Number(o.value);Number.isFinite(d)&&(n.amount=t(d),r())}),c&&(c.addEventListener("input",i=>{const o=i.target;n.pan=o.value.toUpperCase(),r()}),c.addEventListener("blur",()=>{n.panTouched=!0,r()})),$&&$.addEventListener("click",()=>{const i=n.amount>v,o=h.test(n.pan);if(i&&!o){n.panTouched=!0,r();return}n.showResult=!0,r()})};x(e),r()}export{S as default};
//# sourceMappingURL=loan-slider.js.map
