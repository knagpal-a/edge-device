import{j as y,x as b}from"../__chunks__/lit-element.BYUc91cE.js";import{c as x}from"../__chunks__/cleanUpBlock.DyBWs1cd.js";import{r as N}from"../__chunks__/readBlockConfig.DSJqnS6h.js";import"../__chunks__/toClassName.DLENMWzL.js";const h=5e4,$=/^[A-Z]{5}[0-9]{4}[A-Z]$/,_=(e,n)=>{const t=Number(e.replace(/,/g,"").trim());return Number.isFinite(t)?t:n},A=(e,n,t)=>Math.min(t,Math.max(n,e)),L=(e,n,t)=>{const a=Math.round((e-n)/t)*t+n;return Number.isFinite(a)?a:e},v=(e,n="en-IN")=>new Intl.NumberFormat(n,{maximumFractionDigits:0}).format(e),f=(e,n)=>{const t=`${e.currency}${v(n.amount)}`,a=n.amount>h,d=$.test(n.pan),r=a&&n.panTouched&&!d,s=n.pan;return n.showResult?b`<div class="loan-slider loan-slider--result"><div class="loan-slider__result"><h2>${e.title}</h2><p class="loan-slider__result-label">Your selected loan amount is</p><div class="loan-slider__result-amount">${t}</div></div></div>`:b`<div class="loan-slider"><div class="loan-slider__header"><h2>${e.title}</h2><p>${e.helper}</p></div><div class="loan-slider__amount"><label class="loan-slider__label" for="loan-slider-input">Loan amount</label><div class="loan-slider__input-row"><span class="loan-slider__currency">${e.currency}</span> <input id="loan-slider-input" class="loan-slider__number" type="number" inputmode="numeric" min="${e.min}" max="${e.max}" step="${e.step}" .value="${String(n.amount)}" aria-label="Loan amount"></div><input class="loan-slider__range" type="range" min="${e.min}" max="${e.max}" step="${e.step}" .value="${String(n.amount)}" aria-label="Loan amount slider"><div class="loan-slider__limits"><span>${e.currency}${v(e.min)}</span> <span>${e.currency}${v(e.max)}</span></div></div>${a?b`<div class="loan-slider__pan" role="group" aria-label="PAN details"><div class="loan-slider__notice" role="status">Loans above ${e.currency}${v(h)} require PAN details.</div><label class="loan-slider__label" for="loan-slider-pan">PAN number</label> <input id="loan-slider-pan" class="loan-slider__pan-input" type="text" inputmode="text" maxlength="10" placeholder="ABCDE1234F" .value="${s}" aria-invalid="${r?"true":"false"}" aria-describedby="loan-slider-pan-error"><div id="loan-slider-pan-error" class="loan-slider__pan-error" data-visible="${r?"true":"false"}">Enter a valid PAN in the format ABCDE1234F.</div></div>`:""} <button class="loan-slider__cta" type="button" aria-label="Submit loan amount">${e.ctaLabel}</button></div>`};function q(e){const n=N(e),t=(i,u)=>{const m=Array.isArray(i)?i:[i];for(const c of m){const l=n[c];if(typeof l=="string"&&l.trim().length)return l.trim()}return u},a={min:_(t("min","10000"),1e4),max:_(t("max","200000"),2e5),step:_(t("step","1000"),1e3),initial:_(t("initial","50000"),5e4),currency:t("currency","â‚¹"),ctaLabel:t(["ctalabel","cta-label"],"Continue"),title:t("title","Choose your loan amount"),helper:t("helper","Use the slider or type an amount.")};a.min=Math.min(a.min,a.max),a.max=Math.max(a.min,a.max),a.step=a.step>0?a.step:1e3;const d=i=>{const u=L(i,a.min,a.step);return A(u,a.min,a.max)},r={amount:d(a.initial),pan:"",panTouched:!1,showResult:!1},s=()=>{y(f(a,r),e);const i=e.querySelector(".loan-slider__number"),u=e.querySelector(".loan-slider__range"),m=e.querySelector(".loan-slider__pan-input"),c=e.querySelector(".loan-slider__cta");i&&i.addEventListener("input",l=>{const o=l.target,p=Number(o.value);Number.isFinite(p)&&(r.amount=d(p),s())}),u&&u.addEventListener("input",l=>{const o=l.target,p=Number(o.value);Number.isFinite(p)&&(r.amount=d(p),s())}),m&&(m.addEventListener("input",l=>{const o=l.target;r.pan=o.value.toUpperCase(),s()}),m.addEventListener("blur",()=>{r.panTouched=!0,s()})),c&&c.addEventListener("click",()=>{const l=r.amount>h,o=$.test(r.pan);if(l&&!o){r.panTouched=!0,s();return}r.showResult=!0,s()})};x(e),s()}export{q as default};
//# sourceMappingURL=loan-slider.js.map
